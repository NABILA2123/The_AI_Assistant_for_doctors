{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container py-5">
    <h1 class="text-center text-primary mb-4">Prédiction des informations médicales</h1>

    <!-- Formulaire pour la prédiction -->
    <form method="POST" action="{% url 'predict' %}" enctype="multipart/form-data" class="row g-3 shadow p-4 bg-light rounded">
        {% csrf_token %}

        <!-- Champ Nom du patient -->
        <div class="col-md-6">
            <label for="patient_name" class="form-label">Nom du patient :</label>
            <input type="text" id="patient_name" name="patient_name" class="form-control" required>
        </div>

        <!-- Champ Âge du patient -->
        <div class="col-md-6">
            <label for="age" class="form-label">Âge du patient :</label>
            <input type="number" id="age" name="age" class="form-control" required min="0">
        </div>

        <!-- Champ Fichier -->
        <div class="col-12">
            <label for="file" class="form-label">Fichier médical du patient :</label>
            <input type="file" id="file" name="file" class="form-control" accept=".jpg, .png, .pdf">
        </div>

        <!-- Champ Diagnostic -->
        <div class="col-12">
            <label for="diagnosis" class="form-label">Diagnostic :</label>
            <input type="text" id="diagnosis" name="diagnosis" class="form-control">
        </div>

        <!-- Bouton Soumettre -->
        <div class="col-12 text-center">
            <button type="submit" class="btn btn-primary"><i class="fa fa-paper-plane"></i> Soumettre</button>
        </div>
    </form>

    <!-- Affichage des résultats de la prédiction -->
    {% if prediction %}
        <div class="mt-4 p-4 border rounded bg-light">
            <h3 class="text-success">Résultats de la prédiction :</h3>
            <p>{{ prediction }}</p>
        </div>
    {% endif %}
</div>
{% endblock %}
